import{a as y,S,i as l}from"./assets/vendor-DA0uMjGz.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(t){if(t.ep)return;t.ep=!0;const a=s(t);fetch(t.href,a)}})();const x="32386885-8dbf1bc36075d10a6eaf5580b";y.defaults.baseURL="https://pixabay.com/api/";async function f(e,r=1){return(await y.get("",{params:{key:x,q:`${e}`,image_type:"photo",page:r,per_page:15}})).data}let d=null;function h(e,r){const s=e.map(({webformatURL:n,largeImageURL:t,tags:a,likes:i,views:M,comments:q,downloads:P})=>`
        <li class='gallery-img-item'>
        <div class="box-img">
         <a href='${t}'>
          <img src="${n}" alt="${a} "/>
         </a>
        </div>
     
        <div class='gallery-wrapper-text'>
          <p class='gallery-img-text'>Likes <span class='gallery-span'>${i}</span></p>
          <p class='gallery-img-text'>Views<span class='gallery-span'>${M}</span></p>
          <p class='gallery-img-text'>Comments<span class='gallery-span'>${q}</span></p>
          <p class='gallery-img-text'>Downloads<span class='gallery-span'>${P}</span></p>
        </div>
      </li>
    `).join("");r.insertAdjacentHTML("beforeend",s),d?d.refresh():d=new S(".gallery a",{captionsData:"alt",captionDelay:250})}function $(e){e.innerHTML=""}function b(e){e.classList.remove("hidden")}function u(e){e.classList.add("hidden")}function L(e){e.classList.remove("hidden-btn")}function c(e){e.classList.add("hidden-btn")}const v=e=>{e.disabled=!0},m=e=>{e.disabled=!1},G=e=>{window.scrollBy({top:e*2,behavior:"smooth"})},o={form:document.querySelector(".form"),gallery:document.querySelector(".gallery"),loader:document.querySelector(".loader-gallery"),button:document.querySelector(".form-btn"),buttonLoadMore:document.querySelector("#load-more")};let g=1,p="";const w=15;o.form.addEventListener("submit",async e=>{e.preventDefault();const r=e.target.elements.search.value.trim();if(p=r,$(o.gallery),g=1,!p){u(o.loader),c(o.buttonLoadMore),m(o.button),l.show({position:"topRight",iconUrl:"./img/Group (1).svg",messageColor:"rgba(255, 255, 255, 1)",color:"rgba(239, 64, 64, 1)",message:"Sorry, there are no images matching </br> your search query. Please try again!"});return}c(o.buttonLoadMore),b(o.loader),v(o.button);try{const{hits:s,totalHits:n}=await f(r,g);if(!s||s.length===0){l.show({position:"topRight",iconUrl:"./img/Group (1).svg",messageColor:"rgba(255, 255, 255, 1)",color:"rgba(239, 64, 64, 1)",message:"Sorry, there are no images matching </br> your search query. Please try again!"});return}h(s,o.gallery),Math.ceil(n/w)>1?L(o.buttonLoadMore):(c(o.buttonLoadMore),l.show({position:"topRight",iconUrl:"./img/Group (1).svg",messageColor:"rgba(255, 255, 255, 1)",color:"rgba(235, 238, 66, 1)",message:"You've reached the end of search results."}))}catch(s){l.show({position:"topRight",iconUrl:"./img/Group (1).svg",messageColor:"rgba(255, 255, 255, 1)",color:"rgba(239, 64, 64, 1)",message:`${s.message}`})}finally{u(o.loader),m(o.button)}});o.buttonLoadMore.addEventListener("click",async()=>{v(o.buttonLoadMore),b(o.loader),g+=1;try{const{totalHits:e,hits:r}=await f(p,g);r&&r.length>0&&h(r,o.gallery);const s=Math.ceil(e/w);g>=s?(c(o.buttonLoadMore),l.show({position:"topRight",iconUrl:"./img/Group (1).svg",messageColor:"rgba(255, 255, 255, 1)",color:"rgba(235, 238, 66, 1)",message:"You've reached the end of search results."})):L(o.buttonLoadMore);const n=document.querySelector(".gallery-img-item");if(n){const{height:t}=n.getBoundingClientRect();G(t)}}catch(e){c(o.buttonLoadMore),l.show({position:"topRight",iconUrl:"./img/Group (1).svg",messageColor:"rgba(255, 255, 255, 1)",color:"rgba(239, 64, 64, 1)",message:`${e.message}`})}finally{m(o.buttonLoadMore),u(o.loader)}});
//# sourceMappingURL=index.js.map
